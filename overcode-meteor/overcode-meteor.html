<head>
  <title>overcode-meteor</title>
</head>

<body>
<div class="container">
    <div class="row">
        <!-- TODO: scroll these separately -->
        <div class="col-xs-6 solution-list">
            {{> incorrectSolutionsList}}
            <!-- {{> solutionsList}} -->
        </div>
        <div class="col-xs-6 solution-list">
            {{> correctSolutionsList}}
            <!-- {{> pinnedStack}} -->
            <!-- {{> filteredSolutions}} -->
        </div>
    </div>
</div>
</body>

<!-- unused -->
<template name="pinnedStack">
    <div class="pinned">
        {{#with getStack}}
            {{> solution}}
            <button class="btn btn-link remove">&times; remove</button>
        {{/with}}
    </div>
</template>

<template name="correctSolutionsList">
    {{#each solutions}}
        {{#if correct}}
            {{> solutionClickable}}
        {{/if}}
    {{/each}}
</template>

<template name="incorrectSolutionsList">
    {{#each solutions}}
        {{#unless correct}}
            {{> solutionNotClickable}}
        {{/unless}}
    {{/each}}
</template>

<template name="solutionsList">
    {{#each solutions}}
        {{> solutionClickable}}
    {{/each}}
</template>

<template name="filteredSolutions">
    {{#each filteredSolutions}}
        {{> solutionNotClickable}}
    {{/each}}
</template>

<!-- <template name="solution">
<div class="stack-wrapper {{#if clicked id}}clicked{{/if}}">
<div class="stack {{#if correct}}correct{{else}}incorrect{{/if}}" id="{{id}}" data-phraseids="{{phraseIDs}}" data-closest-stacks="{{closest_stacks}}">
    <span class="badge">{{count}}</span>
    <span class="text-muted pull-right">id: {{id}}</span>
    <pre><code>{{#each lines}}<span class="{{#if hasDifferentIndent}}different-indent{{/if}}">{{createSpace}}</span><span class="{{#if sharedWithClickedStack phraseID}}dimmed{{/if}}">{{#with getPhraseFromID phraseID}}{{{code}}}
{{/with}}</span>{{/each}}</code></pre>
</div>
</div>
</template> -->

<template name="solutionNotClickable">
<div class="stack {{#if correct}}correct{{else}}incorrect{{/if}}" id="{{id}}">
    <span class="badge">{{count}}</span>
    <span class="text-muted pull-right">id: {{id}}</span>
    <pre><code>{{#each lines}}<span class="{{#if hasDifferentIndent}}different-indent{{/if}}">{{{createSpace}}}</span><span class="{{#if sharedWithClickedStack phraseID}}dimmed{{/if}}">{{#with getPhraseFromID phraseID}}{{{code}}}
{{/with}}</span>{{/each}}</code></pre>
</div>
</template>

<template name="solutionClickable">
<div class="stack-wrapper {{#if clicked id}}clicked{{/if}}">
<div class="stack {{#if correct}}correct{{else}}incorrect{{/if}}" id="{{id}}">
    <span class="badge">{{count}}</span>
    <span class="text-muted pull-right">id: {{id}}</span>
    <pre><code>{{#each lines}}{{createSpace}}<span class="{{#if sharedWithClickedStack phraseID}}dimmed{{/if}}">{{#with getPhraseFromID phraseID}}{{{code}}}
{{/with}}</span>{{/each}}</code></pre>
</div>
<!-- <button class="btn btn-link btn-sm showRaw">Show raw solution</button> -->
</div>
</template>
